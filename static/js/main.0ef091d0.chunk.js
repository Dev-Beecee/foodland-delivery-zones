(this["webpackJsonpbeecee-zone"]=this["webpackJsonpbeecee-zone"]||[]).push([[0],{139:function(e,n,t){},140:function(e,n,t){},170:function(e,n){},172:function(e,n){},183:function(e,n){},185:function(e,n){},212:function(e,n){},214:function(e,n){},215:function(e,n){},220:function(e,n){},222:function(e,n){},241:function(e,n){},253:function(e,n){},256:function(e,n){},259:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),r=t(129),s=t.n(r),o=(t(139),t(140),t(8)),i=t.n(o),l=t(13),d=t(16),u=t(268),m=t(130),b=t.n(m),p=t(269),j=t(131),h=t(270),x=t(44),f=t(43),O=t.n(f),v=t(2);O.a.config();var g=Object(u.a)({dropZone:{width:"300px",height:"100px",opacity:"0",position:"relative",zIndex:1},dzOverlay:{width:"300px",height:"100px",border:"solid 3px white",borderRadius:"25px",fontFamily:"cursive",color:"#black",position:"absolute",top:"494px",right:"810px",textAlign:"center",padding:"5px"}}),y=function(){var e=Object(c.useState)({}),n=Object(d.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)(!1),s=Object(d.a)(r,2),o=s[0],u=s[1],m=g(),f=Object(c.useState)(void 0),O=Object(d.a)(f,2),y=O[0],N=O[1];var w=Object(x.a)(),k=w.register,S=w.handleSubmit,C=w.watch,z=function(){var e=Object(l.a)(i.a.mark((function e(n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),!(c=n.file[0])){e.next=6;break}return e.next=5,c.text().then((function(e){var n=e.split("<coordinates>")[1].split("</coordinates>")[0],t=n.split("\n").slice(1,n.split("\n").length-1).reverse().map((function(e){var n=e.split(",");return console.log(n),{lat:Number(n[1]),lng:Number(n[0])}}));console.log(t),a(t)}));case 5:b()({method:"post",headers:{"Content-Type":"application/json","x-api-key":"sMbNsNE6X7eq3kNJwSh0YtSdM7dWv81BB5_Vrb0dpKkk1bkqcisngoF01uCxbXwSy"},url:"https://apiv4.ordering.co/v400/en/foodland/business/".concat(n.idBusiness,"/deliveryzones"),responseType:"json",data:{enabled:n.enabled,name:n.zoneName,address:n.address,type:2,price:n.price,minimum:n.min,data:JSON.stringify(t),schedule:JSON.stringify({enabled:!0,lapses:{open:{hour:0,minute:0},close:{hour:23,minute:59}}})}}).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}));case 6:console.log(C("example"));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(p.a,{onSubmit:S(z),className:"col",children:[Object(v.jsx)(p.a.Label,{children:"id du Restaurant"}),Object(v.jsx)(j.a,{ref:k,name:"idBusiness",type:"text",placeholder:"id du restaurant"}),Object(v.jsx)(p.a.Label,{children:"Nom de la zone"}),Object(v.jsx)("input",{ref:k,name:"zoneName",type:"text",className:"form-control"}),Object(v.jsx)(p.a.Label,{children:"Adresse"}),Object(v.jsx)("input",{ref:k,name:"address",type:"text",className:"form-control"}),Object(v.jsx)(p.a.Label,{children:"Prix minimum"}),Object(v.jsx)("input",{ref:k,name:"min",type:"text",className:"form-control"}),Object(v.jsx)(p.a.Label,{children:"Prix"}),Object(v.jsx)("input",{ref:k,name:"price",type:"text",className:"form-control"}),Object(v.jsx)("label",{children:" statut de la zone "}),Object(v.jsxs)("div",{className:"form-check form-switch",children:[Object(v.jsx)("input",{ref:k,name:"enabled",className:"form-check-input mx-2",type:"checkbox",id:"flexSwitchCheckDefault",onChange:function(e){u(e.target.checked)}}),Object(v.jsx)("label",{children:o?"active":"d\xe9sactiv\xe9"})]}),Object(v.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center my-5",children:[Object(v.jsx)("label",{}),Object(v.jsx)("input",{ref:k,type:"file",name:"file",className:m.dropZone,onChange:function(e){var n=e.target.files[0];n.text().then((function(e){return console.log(e)})),N(n)}}),y&&y.name?Object(v.jsx)("div",{children:y.name}):Object(v.jsxs)("div",{className:m.dzOverlay,children:["Glissez votre fichier kml ici ",Object(v.jsx)("br",{}),"ou",Object(v.jsx)("br",{}),"Cliquez pour ajouter"]})]}),Object(v.jsxs)(h.a,{variant:"success",type:"submit",className:"my-2",children:[" ","Envoyer"," "]})]})})},N=t(267),w=t(132),k=t(133),S=t.n(k),C=t(134),z=t.n(C);f.config();var q=function(){var e=Object(c.useState)(),n=Object(d.a)(e,2),t=n[0],a=n[1],r=Object(x.a)(),s=r.register,o=r.handleSubmit,u=r.errors,m=function(){var e=Object(l.a)(i.a.mark((function e(n){var t,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),18,8,t=Math.floor(10*Math.random())+8,c=S()(t,!1,/[\w\d?-]/,"".concat(n.name[0],"-")),console.log(c),"https://apiv4.ordering.co/v400/en/foodland/users",a={method:"POST",headers:{"Content-Type":"application/json","x-api-key":"sMbNsNE6X7eq3kNJwSh0YtSdM7dWv81BB5_Vrb0dpKkk1bkqcisngoF01uCxbXwSy"},body:JSON.stringify({country_phone_code:1,level:4,busy:!1,available:!0,enabled:!0,name:n.name,lastname:n.lastname,email:n.email,password:c,cellphone:n.cellphone})},z()("https://apiv4.ordering.co/v400/en/foodland/users",a).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error(e)}));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b={method:"GET",headers:{"x-api-key":"sMbNsNE6X7eq3kNJwSh0YtSdM7dWv81BB5_Vrb0dpKkk1bkqcisngoF01uCxbXwSy"}};return window.addEventListener("load",(function(){fetch("https://apiv4.ordering.co/v400/en/foodland/drivergroups/",b).then((function(e){return e.json()})).then((function(e){console.log(e);var n=e.result.map((function(e){return{id:e.id,name:e.name}}));console.log(n),a(n)}))})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Cr\xe9er un livreur"}),Object(v.jsxs)(p.a,{onSubmit:o(m),className:"d-flex flex-column",children:[Object(v.jsxs)(p.a.Row,{className:"row my-2",children:[Object(v.jsxs)(w.a,{sm:6,children:[u.email&&Object(v.jsx)("span",{className:"text-danger text-center",children:"Email requis"}),Object(v.jsx)(p.a.Control,{ref:s,name:"lastname",type:"text",placeholder:"Nom*"})]}),Object(v.jsx)(w.a,{sm:6,children:Object(v.jsx)(p.a.Control,{ref:s,name:"name",type:"text",placeholder:"Pr\xe9nom"})})]}),Object(v.jsxs)(p.a.Group,{className:"input-group my-2",children:[u.email&&Object(v.jsx)("span",{className:"text-danger text-center",children:"Email requis"}),Object(v.jsx)("span",{className:"input-group-text",children:"@"}),Object(v.jsx)(p.a.Control,{ref:s({required:!0}),name:"email",type:"text","aria-describedby":"inputGroupPrepend",placeholder:"email*"})]}),Object(v.jsx)(p.a.Control,{ref:s,name:"cellphone",type:"text",placeholder:"Telephone",className:"my-2"}),Object(v.jsx)("select",{ref:s,name:"drivergroups",className:"form-select my-2",onChange:function(e){return console.log(e.target.value)},children:null===t||void 0===t?void 0:t.map((function(e){return Object(v.jsx)("option",{value:e.id,children:e.name})}))}),Object(v.jsx)("input",{type:"submit",className:"btn btn-success my-5",value:"cr\xe9er"})]})]})};var B=function(){var e=window.location.search,n=new URLSearchParams(e);return Object(v.jsx)("div",{className:"App bg-secondary",children:Object(v.jsx)(N.a,{children:Object(v.jsx)("div",{className:"col-sm-6 d-flex flex-column justify-content-center align-items-center w-100 my-5 bg-dark text-white rounded shadow-lg",children:n.has("beecee-livraison")?Object(v.jsx)(y,{}):Object(v.jsx)(q,{})})})})},F=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,271)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(B,{})}),document.getElementById("root")),F()}},[[259,1,2]]]);