(this["webpackJsonpbeecee-zone"]=this["webpackJsonpbeecee-zone"]||[]).push([[0],{139:function(e,t,n){},140:function(e,t,n){},170:function(e,t){},172:function(e,t){},183:function(e,t){},185:function(e,t){},212:function(e,t){},214:function(e,t){},215:function(e,t){},220:function(e,t){},222:function(e,t){},241:function(e,t){},253:function(e,t){},256:function(e,t){},259:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(129),s=n.n(r),o=(n(139),n(140),n(8)),i=n.n(o),l=n(13),d=n(16),u=n(268),m=n(130),j=n.n(m),p=n(269),b=n(131),h=n(270),x=n(44),f=n(43),O=n.n(f),v=n(2);O.a.config();var g=Object(u.a)({dropZone:{width:"300px",height:"100px",opacity:"0",position:"relative",zIndex:1},dzOverlay:{width:"300px",height:"100px",border:"solid 3px white",borderRadius:"25px",fontFamily:"cursive",color:"#black",position:"absolute",top:"494px",right:"810px",textAlign:"center",padding:"5px"}}),y=function(){var e=Object(c.useState)({}),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(d.a)(r,2),o=s[0],u=s[1],m=g(),f=Object(c.useState)(void 0),O=Object(d.a)(f,2),y=O[0],N=O[1];var S=Object(x.a)(),w=S.register,k=S.handleSubmit,C=S.watch,E=function(){var e=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!(c=t.file[0])){e.next=6;break}return e.next=5,c.text().then((function(e){var t=e.split("<coordinates>")[1].split("</coordinates>")[0],n=t.split("\n").slice(1,t.split("\n").length-1).reverse().map((function(e){return{lat:Number(e[1]),lng:Number(e[0])}}));a(n)}));case 5:j()({method:"post",headers:{"Content-Type":"application/json","x-api-key":Object({NODE_ENV:"production",PUBLIC_URL:"/foodland-delivery-zones",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).APIKEY},url:"https://apiv4.ordering.co/v400/en/foodland/business/".concat(t.idBusiness,"/deliveryzones"),responseType:"json",data:{enabled:t.enabled,name:t.zoneName,address:t.address,type:2,price:t.price,minimum:t.min,data:JSON.stringify(n),schedule:JSON.stringify({enabled:!0,lapses:{open:{hour:0,minute:0},close:{hour:23,minute:59}}})}}).then((function(e){return console.log(e.status)})).catch((function(e){return console.error(e)}));case 6:console.log(C("example"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(p.a,{onSubmit:k(E),className:"col",children:[Object(v.jsx)(p.a.Label,{children:"id du Restaurant"}),Object(v.jsx)(b.a,{ref:w,name:"idBusiness",type:"text",placeholder:"id du restaurant"}),Object(v.jsx)(p.a.Label,{children:"Nom de la zone"}),Object(v.jsx)("input",{ref:w,name:"zoneName",type:"text",className:"form-control"}),Object(v.jsx)(p.a.Label,{children:"Adresse"}),Object(v.jsx)("input",{ref:w,name:"address",type:"text",className:"form-control"}),Object(v.jsx)(p.a.Label,{children:"Prix minimum"}),Object(v.jsx)("input",{ref:w,name:"min",type:"text",className:"form-control"}),Object(v.jsx)(p.a.Label,{children:"Prix"}),Object(v.jsx)("input",{ref:w,name:"price",type:"text",className:"form-control"}),Object(v.jsx)("label",{children:" statut de la zone "}),Object(v.jsxs)("div",{className:"form-check form-switch",children:[Object(v.jsx)("input",{ref:w,name:"enabled",className:"form-check-input mx-2",type:"checkbox",id:"flexSwitchCheckDefault",onChange:function(e){u(e.target.checked)}}),Object(v.jsx)("label",{children:o?"active":"d\xe9sactiv\xe9"})]}),Object(v.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center my-5",children:[Object(v.jsx)("label",{}),Object(v.jsx)("input",{ref:w,type:"file",name:"file",className:m.dropZone,onChange:function(e){var t=e.target.files[0];t.text().then((function(e){return console.log(e)})),N(t)}}),y&&y.name?Object(v.jsx)("div",{children:y.name}):Object(v.jsxs)("div",{className:m.dzOverlay,children:["Glissez votre fichier kml ici ",Object(v.jsx)("br",{}),"ou",Object(v.jsx)("br",{}),"Cliquez pour ajouter"]})]}),Object(v.jsxs)(h.a,{variant:"success",type:"submit",className:"my-2",children:[" ","Envoyer"," "]})]})})},N=n(267),S=n(132),w=n(133),k=n.n(w),C=n(134),E=n.n(C);f.config();var T=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(x.a)(),s=r.register,o=r.handleSubmit,u=r.errors,m=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),18,8,n=Math.floor(10*Math.random())+8,c=k()(n,!1,/[\w\d?-]/,"".concat(t.name[0],"-")),"https://apiv4.ordering.co/v400/en/foodland/users",a={method:"POST",headers:{"Content-Type":"application/json","x-api-key":"sMbNsNE6X7eq3kNJwSh0YtSdM7dWv81BB5_Vrb0dpKkk1bkqcisngoF01uCxbXwSy"},body:JSON.stringify({country_phone_code:1,level:4,busy:!1,available:!0,enabled:!0,name:t.name,lastname:t.lastname,email:t.email,password:c,cellphone:t.cellphone})},console.log(a),E()("https://apiv4.ordering.co/v400/en/foodland/users",a).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j={method:"GET",headers:{"x-api-key":"sMbNsNE6X7eq3kNJwSh0YtSdM7dWv81BB5_Vrb0dpKkk1bkqcisngoF01uCxbXwSy"}};return window.addEventListener("load",(function(){fetch("https://apiv4.ordering.co/v400/en/foodland/drivergroups",j).then((function(e){return e.json()})).then((function(e){var t=e.result.map((function(e){return{id:e.id,name:e.name}}));a(t)}))})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Cr\xe9er un livreur"}),Object(v.jsxs)(p.a,{onSubmit:o(m),className:"d-flex flex-column",children:[Object(v.jsxs)(p.a.Row,{className:"row my-2",children:[Object(v.jsxs)(S.a,{sm:6,children:[u.email&&Object(v.jsx)("span",{className:"text-danger text-center",children:"Email requis"}),Object(v.jsx)(p.a.Control,{ref:s,name:"lastname",type:"text",placeholder:"Nom*"})]}),Object(v.jsx)(S.a,{sm:6,children:Object(v.jsx)(p.a.Control,{ref:s,name:"name",type:"text",placeholder:"Pr\xe9nom"})})]}),Object(v.jsxs)(p.a.Group,{className:"input-group my-2",children:[u.email&&Object(v.jsx)("span",{className:"text-danger text-center",children:"Email requis"}),Object(v.jsx)("span",{className:"input-group-text",children:"@"}),Object(v.jsx)(p.a.Control,{ref:s({required:!0}),name:"email",type:"text","aria-describedby":"inputGroupPrepend",placeholder:"email*"})]}),Object(v.jsx)(p.a.Control,{ref:s,name:"cellphone",type:"text",placeholder:"Telephone",className:"my-2"}),Object(v.jsx)("select",{ref:s,name:"drivergroups",className:"form-select",onChange:function(e){return console.log(e.target.value)},children:null===n||void 0===n?void 0:n.map((function(e){return Object(v.jsx)("option",{value:e.id,children:e.name})}))}),Object(v.jsx)("input",{type:"submit",className:"btn btn-success my-5",value:"cr\xe9er"})]})]})};var z=function(){var e=window.location.search,t=new URLSearchParams(e);return Object(v.jsx)("div",{className:"App bg-secondary",children:Object(v.jsx)(N.a,{children:Object(v.jsx)("div",{className:"col-sm-6 d-flex flex-column justify-content-center align-items-center w-100 my-5 bg-dark text-white rounded shadow-lg",children:t.has("beecee-livraison")?Object(v.jsx)(y,{}):Object(v.jsx)(T,{})})})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,271)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(z,{})}),document.getElementById("root")),_()}},[[259,1,2]]]);